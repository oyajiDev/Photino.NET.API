function $BindMethod(o){window.photino[o]=(e=[],n=null)=>{null!=n&&(window.$photino.callbacks[o]=n);n=JSON.stringify({job:o,args:e});window.external.sendMessage(n)}}function $ReceiveMessage(e){var n=null;try{n=JSON.parse(e)}catch{throw new Error("cannot parse message!")}if("success"!=n.state)throw new Error(n.message);if("init"==n.job)for(var o of n.methods)$BindMethod(o);else{e=window.$photino.callbacks[n.job];null!=e&&e(n.message)}}window.addEventListener("DOMContentLoaded",()=>{window.photino={},window.$photino={callbacks:{}},window.external.receiveMessage($ReceiveMessage),window.external.sendMessage(JSON.stringify({job:"init"}))});